<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Problem 1936</title>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="MathJax-4.0.0/tex-svg.js"></script>
<style>
body { font-family: Arial, sans-serif; margin: 40px; }
h1 { font-size: 1.6em; }
.difficulty { color: gray; font-size: 0.95em; margin-top: 6px; } .skib {  border-left: 4px solid #000; /* Bold left accent */   background-color: lavender; /* Very light gray */   padding: 1px 20px; /* less top/bottom padding, same left/right */   box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Soft depth */}
p { line-height: 1.45; }
ol, ul { margin-left: 1.2em; }
li { margin-bottom: 0.4em; }
</style>
</head>
<body>
<h1>Problem 1936 - 2024 China TST Test 1, P5 of 6</h1>
<h2 class='difficulty'>Difficulty: 7</h2>
<p>Find all functions \(f:\mathbf N_+\to \mathbf N_+,\) such that for all positive integer \(a,b,\)
\[\sum_{k=0}^{2b}f(a+k)=(2b+1)f(f(a)+b).\]</p>
<h2>Thinking (Mock)</h2>
<div class=skib>
<p>Let us first substitute \(b = 1\) to see what is happening.
\[f(a) + f(a + 1) + f(a + 2) = 3f(f(a) + 1)\]
The only linear function that works is \(f(n) = n\). Subtracting \(P(a, b)\) from \(P(a, b + 1)\), we get
\[f(a + 2b + 1) + f(a + 2b + 2) = (2b + 3) f(f(a) + b + 1) - (2b + 1) f(f(a) + b)\]
But also subtracting \(P(a + 2, b - 1)\) from \(P(a + 2, b)\), we get
\[f(a + 2b + 1) + f(a + 2b + 2) = (2b + 1)f(f(a + 2) + b) - (2b - 1)f(f(a + 2) + b - 1)\]
Also note that 
\[f(a + 2b) + f(a + 2b + 1) + f(a + 2b + 2) = 3f(f(a + 2b) + 1)\]  
So we have a lot of interesting things. We also have divisibility obtained directly from the main equation, and things like
\[f(a) + 5f(f(a - 5) + 2) = 3f(f(a - 2) + 1) + 3f(f(a - 5) + 1)\]
</p>
<p>In any case, what I was thinking about right now was that if \(c = f(1) > 2\), then \(f(1) + f(2) + f(3) = 3f(c + 1)\), which means that if we fix the values of \(f(1)\) to \(f(c)\) and \(k\) is the maximum of these, then \(f\) is a bounded function with maximum value \(k\) - wait, why? Let us deal with this case later. Suppose instead that \(f(1) = 2\), which means 
\[f(1) + f(2) + f(3) = 3f(3) \]
\[f(1) + f(2) + f(3) + f(4) + f(5) = 5f(4)\]
\[f(1) + f(2) + \dots + f(2b + 1) = (2b + 1)f(b + 2)\] </p>
</div>
<h2>Thinking (post Mock)</h2>
<div class=skib>
<p></p>
</div>
<h2>Idea</h2>
<p></p>
<p><a href="../problem_tracker.html">Back to Problem List</a></p>
</body>
</html>
