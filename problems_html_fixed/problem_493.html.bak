<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Problem 493</title>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<style>
body { font-family: Arial, sans-serif; margin: 40px; }
h1 { font-size: 1.6em; }
.difficulty { color: gray; font-size: 0.95em; margin-top: 6px; }
.skib {
  border-left: 4px solid #000; /* Bold left accent */
  background-color: #dedede; /* Very light gray */
  padding: 1px 20px; /* less top/bottom padding, same left/right */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Soft depth */
}	
p { line-height: 1.45; }
ol, ul { margin-left: 1.2em; }
li { margin-bottom: 0.4em; }
</style>
</head>
<body>
<h1>Problem 493 - 2017 IMOSL, N3, N</h1>
<h2 class='difficulty'>Difficulty: 6</h2>
<p>Determine all integers \(n\geq 2\) having the following property: for any integers \(a_1,a_2,\ldots, a_n\) whose sum is not divisible by \(n\), there exists an index \(1 \leq i \leq n\) such that none of the numbers \[a_i,a_i+a_{i+1},\ldots,a_i+a_{i+1}+\ldots+a_{i+n-1}\]is divisible by \(n\). Here, we let \(a_i=a_{i-n}\) when \(i >n\).</p>
<h2>Thinking</h2>
<div class=skib>
<p>Here's something that fails: \(n = 6\) and the sequences \(121212\), \(030303\). In general \(pq\) fails for \(p \neq q\), because you can have some \(p\) numbers summing to \(q\), make them cycle, and \(pq \nmid q^2\). Here we can then take the first \(p^2 < pq\) elements and we are done. I want to extend this argument to everything that is not a prime power. Suppose \(P\) and \(Q\) (\(\neq 1\)) are two relatively prime components of \(n\). Then we can have some \(P\) integers summing to \(Q\), make them cycle, and again the sum is \(Q^2\), which is not divisible by \(n = PQ\). Now we can take the first \(P^2 < PQ\) elements and we are done.</p>
<p>We are left to deal with prime powers. I want to look at \(n = 4\). The sequence \(2220\) works. Basically for \(p^k\) with \(k > 1\) we can choose \((p^{k-1}, \dots, p^{k-1}, 0)\) and this sums to \(p^{k-1}(p^k - 1)\). Since \(p^k - 1 > k\), a sum of \(p^k\) must appear. </p>
<p>Now let \(n = p\) be a prime. Suppose \(f(k)\) is the smallest index such that \(\sum_{i=k}^{f(k)} a_i = 0 \pmod{n}\). Then applying \(f\) repeatedly, we can find a cycle, and a cycle means that \(\sum_{i=1}^{n} a_i = 0\).</p>
</div>
<h2>Idea</h2>
<p>As always, be greedy. Write your heart out about <b>what you want</b>!! </p>
<p><a href="../problem_tracker.html">Back to Problem List</a></p>
</body>
</html>
