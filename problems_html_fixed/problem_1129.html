<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Problem 1129</title>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="MathJax-4.0.0/tex-svg.js"></script>
<style>
body { font-family: Arial, sans-serif; margin: 40px; }
h1 { font-size: 1.6em; }
.difficulty { color: gray; font-size: 0.95em; margin-top: 6px; } .skib {  border-left: 4px solid #000; /* Bold left accent */   background-color: lavender; /* Very light gray */   padding: 1px 20px; /* less top/bottom padding, same left/right */   box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Soft depth */}
.skib {
  border-left: 4px solid #000; /* Bold left accent */
  /* we chillin */ /* Very light gray */
  padding: 1px 20px; /* less top/bottom padding, same left/right */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Soft depth */
}	
p { line-height: 1.45; }
ol, ul { margin-left: 1.2em; }
li { margin-bottom: 0.4em; }
</style>
</head>
<body>
<h1>Problem 1129 - 2022 USAMO, P4 of 6, N</h1>
<h2 class='difficulty'>Difficulty: 6</h2>
<p>Find all pairs of primes \((p, q)\) for which \(p-q\) and \(pq-q\) are both perfect squares.</p>
<h2>Thinking</h2>
<div class='skib'> 
<p>Note that if \(p\) and \(q\) are odd, then they must both be \(1 \pmod{4}\). If \(q = 2\), then \(p - 2\) and \(2p - 2\) would have to be perfect squares, which forces \(p = 3\) by mod 3. </p>
<p>Now, since \(pq -q \) is a perfect square, we have \(q \mid p - 1\). Indeed, \(p = qk^2 + 1\) for some \(k\), which means \(qk^2 + 1 - q\) is a perfect square. Let \(q = 4t + 1\), to obtain \((4t+1)k^2 + 1 - (4t+1) = 4tk^2 + k^2 - 4t\). Remember that \(k\) is even, so \(k = 2l\), giving \(16tl^2 + 4l^2 - 4t\). Factoring out the \(4\), \((4t+1)l^2 - t\) should be a square. </p>
<p>I don't know what to do, maybe let \(p = 4a + 1\) and \(q = 4b + 1\), which gives \(a - b\) and \(a + 4ab\) are squares. If \(a\) were squarefree then \(a \mid 4b + 1\) would be true, and by \(a \ge b\) we would get a bound. Unfortunately, that might not be true (*I'm a bozo, cue next para). We want to do the same sort of bounding with the actual primes then, but that doesn't seem possible. Also \(b(4a + 1)\) is a difference of squares.</p>
<p>Wait bruh \(a(4b+1)\) being a square means \(4b + 1 \mid a \) because \(4b + 1\) is literally the prime here. But we already knew that. Well,
\[b(4a+1) = (\sqrt{a + 4ab} - \sqrt{a-b})(\sqrt{a+4ab}+\sqrt{a-b})\]
The only thing we can get out of this is size relations so might as well, but those turn out to be basically worthless. Wait, but remember \(4a + 1\) is prime - and we know \(a(4b+1) < a^2\). Okay yeah, this is just impossible, so there's no solutions for \(p\), \(q\) being \(1 \pmod{4}\). 	</p>
</div>
<h2>Idea</h2>
<p>This problem makes me feel idiotic. Literally just difference of squares works (but of course, to see you have to bound is the real bit) - you have to have a clear head on what you want to do and <b>not get tunnel vision or trigger-happy ADHD after seeing random things</b>. Have a vision. This is true for a lot of NT problems. You obviously have to bound, actually writing out the square root terms makes seeing things better.</p>
<p><a href="../problem_tracker.html">Back to Problem List</a></p>
</body>
</html>
