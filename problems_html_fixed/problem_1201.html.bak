<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Problem 1201</title>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<style>
body { font-family: Arial, sans-serif; margin: 40px; }
h1 { font-size: 1.6em; }
.difficulty { color: gray; font-size: 0.95em; margin-top: 6px; }
p { line-height: 1.45; }
.skib {
  border-left: 4px solid #000; /* Bold left accent */
  background-color: #dedede; /* Very light gray */
  padding: 1px 20px; /* less top/bottom padding, same left/right */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Soft depth */
}
ol, ul { margin-left: 1.2em; }
li { margin-bottom: 0.4em; }
</style>
</head>
<body>
<h1>Problem 1201 - 2010 IMOSL, C2</h1>
<h2 class='difficulty'>Difficulty: 7</h2>
<p>On some planet, there are \(2^N\) countries \((N \geq 4).\) Each country has a flag \(N\) units wide and one unit high composed of \(N\) fields of size \(1 \times 1,\) each field being either yellow or blue. No two countries have the same flag. We say that a set of \(N\) flags is diverse if these flags can be arranged into an \(N \times N\) square so that all \(N\) fields on its main diagonal will have the same color. Determine the smallest positive integer \(M\) such that among any \(M\) distinct flags, there exist \(N\) flags forming a diverse set.</p>
<h2>Thinking</h2>
<div class='skib'>
<p>The simplest bound here is \(2^{n - 2} + 1\), because the first \(2^{n-2}\) elements can just all start with \(10\) (where \(1\) corresponds to yellow, \(0\) corresponds to blue). If there are more than \(2^{n-2}\) elements, then we at least know that there is some color such that it makes an appearance in every position. Suppose this color is \(0\).</p>
<p>This is very intuitively reminiscent to Hall's theorem - we would like to show injectivity - that is, we can have an <i>injective function</i> from positions to flags where a flag is matched with a position if the position holds ``that specific color'' (\(0\)) in the flag. </p>
<p>Suppose there is some set of \(r > 0\) positions such that there are \(< r\) flags that have a \(0\) in one of those positions. Then there are \( > 2^{n-2} + 1 - r \) flags that have \(1 \)s in all of these \(r\) positions. But the number of flags with \(1\)s in all of \(r\) positions is \(2^{n-r}\). So, if the exact number of flags is \(k\), then
\[2^{n-2} + 1 - r < k \le 2^{n-r} \implies r \in \{1, 2\}\] </p>
<p>But we know that \(r =1\) is just because we assumed it to be false. Suppose \(r = 2\) in which case we have some two positions \(i\) and \(j\) such that they both have only 1 flag total with \(0\) on that position and these two flags are actually the same. Then the other \(2^{n-2}\) flags have \(1\)s on both the \(i\)th and the \(j\)th position, and since they are \(2^{n-2}\) in number, they are indeed <i>all</i> of the flags that have \(1\)s on both those positions - and there is obviously a main diagonal of \(1\)s in some \(n\) of these \(2^{n-2}\) flags. </p>
</div>
<h2>Idea</h2>
<p>Apart from the fact that the <b>stupidest answer works</b> sometimes, you have to be vigilant of all the stimulus that you are receiving - I received the stimulus of 
<ul>
<li>probabilistic method (due to existence)</li>
<li>Hall's marriage (due to injectivity)</li>
</ul>
in that order, and the first one seems to not work due to <i>too much freedom</i> of choice. The latter works because Hall's always works for injectivity. </p>
<p><a href="../problem_tracker.html">Back to Problem List</a></p>
</body>
</html>
