<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Problem 2308</title>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<style>
body { font-family: Arial, sans-serif; margin: 40px; }
h1 { font-size: 1.6em; }
.difficulty { color: gray; font-size: 0.95em; margin-top: 6px; }
.skib {
  border-left: 4px solid #000; /* Bold left accent */
  background-color: #dedede; /* Very light gray */
  padding: 1px 20px; /* less top/bottom padding, same left/right */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Soft depth */
}	
p { line-height: 1.45; }
ol, ul { margin-left: 1.2em; }
li { margin-bottom: 0.4em; }
</style>
</head>
<body>
<h1>Problem 2308 - Codeforces 1270G</h1>
<h2 class='difficulty'>Difficulty: 7</h2>
<p>You are given \(n\) integers \(a_1, a_2, \dots, a_n\) such that for each \(1 \leq i \leq n\) holds that \(i - n \leq a_i \leq i - 1\). Show that there exists a nonempty subset of these integers whose sum is equal to zero.</p>
<h2>Thinking</h2>
<div class =skib>
<p>If we use something like induction, we get that there must be some index \(i\) from \(1\) to \(n - 1\) such that \(a_i = i - n\), otherwise the problem is trivial. I have some ideas, like looking at the numbers from \(a_{i+1}\) to \(a_n\), and also using some sort of extremal principle (\(k\) is the smallest achieveable sum). Also I just realised we can arrange the \(a_i\) in ascending order - say this forms the sequence \(b_i\) - and this would be a valid \(a_i\)-sequence. Basically, since \[i - n + 1 \le a_{i+1} \le i \;\; \text{ and } \;\; i- n \le a_i \le i - 1\]
observe that \(a_{i+1} < a_i\) implies \(a_{i+1} < i\) and \(a_i > i - n\), which means we can actually swap the two. So we can assume that the sequence is increasing.</p>
<p>Now note that there must still be some \(i\) for which \(a_i = i - n\). Similarly there must be some \(j\) for which \(a_j = j - 1\). Okay I can try to proceed with some weird inductive approach (\(i\) to \(j\)) but let me save that for later. For now, let \(r_i\) be the number such that \(a_i = i - r_i\). Since we want
\[\sum a_i = 0 \iff \sum i = \sum r_i\]
Wait, if we think of \(r_i\) as a function \(r(i)\), then if for any \(i \in \{1, 2, \dots, n\}\) there exists a \(k\) such that \(r^k(i) = i\), then we are done. But a cycle must exist in every connected component of \(r\), so we are done.</p>
</div>
<h2>Idea</h2>
<p>This is what is called 'arrows'. Note that the initial approach feels like it is worth something, but it is too far away from what we want - so we decide to abandon it momentarily, and focus on the goal (when working forwards feels too far, work backwards - there must be some stronger "condition" you will have to come up with that solves the problem). The stronger condition here is the existence of a cycle - while not necessary for the existence of \(\{i\}\) such that \(\sum i = \sum r_i\), it certainly implies \(\sum i = \sum r_i\). </p>
<p>I suppose this is some variant of the 'optimal assumption first' philosophy.</p>
<p>Also, working forward in such problems seems very local.</p>
<p><a href="../problem_tracker.html">Back to Problem List</a></p>
</body>
</html>
