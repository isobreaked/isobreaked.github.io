<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Problem 2155</title>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="MathJax-4.0.0/tex-svg.js"></script>
<style>
body { font-family: Arial, sans-serif; margin: 40px; }
h1 { font-size: 1.6em; }
.difficulty { color: gray; font-size: 0.95em; margin-top: 6px; } .skib {  border-left: 4px solid #000; /* Bold left accent */   background-color: lavender; /* Very light gray */   padding: 1px 20px; /* less top/bottom padding, same left/right */   box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Soft depth */}
.skib {
  border-left: 4px solid #000; /* Bold left accent */
  /* we chillin */ /* Very light gray */
  padding: 1px 20px; /* less top/bottom padding, same left/right */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Soft depth */
}	
p { line-height: 1.45; }
ol, ul { margin-left: 1.2em; }
li { margin-bottom: 0.4em; }
</style>
</head>
<body>
<h1>Problem 2155 - 2025 XOOK, P1 of 6</h1>
<h2 class='difficulty'>Difficulty: 7</h2>
<p>For the Exeter disco party, Oron wants to tile a \(2024 \times 2024\) square in the middle of the dance floor with \(1 \times 1\) tiles which have arrows pointing either up, left, right, or down.</p>
<p>After placing down all the tiles in some configuration, he realizes that he wants to rotate some of the tiles so that no matter which tile a dancer starts on, after following the arrows they end up leaving the grid through some fixed cell. What&#x27;s the minimum number of tiles he needs to rotate so that this is always possible?</p>

<h2>Thinking</h2>
<div class=skib>
<p>If everything is in a two-cycle, then we will have to rotate at least one out of these two cycles, thus guaranteeing at least \(2024^2 / 2\) rotations.	Surely this is the answer. Let's prove everything can be done in \(\le 2024^2/2\) moves now. </p>
<p>Wait LOL we can just direct everything going down to now go up and everything going right to now go left. If this takes more than \(2024^2/2\) rotations, then we can do the opposite - that is, direct everything going up to now go down, and everything going left to now go right. Assume everything is now going down or going right. This means we will eventually either end up in the rightmost column or the bottom row. Unfortunately, we have zero control over where we end up, and how the arrow there is directed, because we could have a configuration like this:
\[\begin{matrix}
\rightarrow & \rightarrow & \rightarrow & \rightarrow \\
\rightarrow & \rightarrow & \rightarrow & \rightarrow \\
\rightarrow & \rightarrow & \rightarrow & \rightarrow \\
\downarrow & \downarrow & \downarrow & \downarrow 
\end{matrix}\]
This means that the last row and column are of utmost importance, since they could be like this in the initial configuration too:
\[\begin{matrix}
\cdot & \cdot & \cdot & \rightarrow \\
\cdot & \cdot & \cdot & \rightarrow \\
\cdot & \cdot & \cdot & \rightarrow \\
\downarrow & \downarrow & \downarrow & \downarrow 
\end{matrix}\]
which means at least \(6\) of these need to be changed anyways - in the case of \(n\), we need to change at least \(2(n - 1)\) of these. Now doing the up-left \(\to\) down-right in the top-left \((n - 1) \times (n -1) \) grid, we get an upper bound of... wait a minute, the top-left \((n-1)\times (n-1)\) grid doesn't have at most \((n-1)^2/2\) up-right things, it still has at most \(n^2/2\). This motivates us to do better by considering all 4 of the \((n-1)\times (n-1)\) grids, but let us first note the bound we have obtained:
\[\frac{n^2}{2} \le X \le \frac{n^2}{2}  + 2(n - 1)\]
</p>
<p>Okay, now let us look at the 4 \((n-1) \times (n-1)\) blocks. First, I will abbreviate them (and the directions) to \(NE\), \(NW\), \(SE\) and \(SW\). Is it possible that \(NE\) has \(n^2/2\) NE arrows, \(SW\) has \(n^2/2\) SW arrows, and so on for \(SE\) and \(NW\)? In fact, yes
\[\begin{matrix}
\uparrow & \uparrow & \uparrow & \rightarrow \\
\leftarrow & \uparrow & \uparrow & \rightarrow \\
\leftarrow & \downarrow & \downarrow & \rightarrow \\
\leftarrow & \downarrow & \downarrow & \downarrow 
\end{matrix}\]
Wait, yeah, this requires \(13\) rotations. OH, consider the middle \((n -2)\times (n -2)\) square and make it have just two cycles, and let the extremal rows and columns be oriented similar to the above diagram - this gives the lower bound
\[\frac{(n-2)^2}{2} + 4n - 5 = \frac{n^2}{2}+ 2n - 3 \le X \le \frac{n^2}{2} + 2n - 2\]
</p>
<p>Yay! I just realised the configuration above actually doesn't have \(n^2/2\) in any square, only \(n^2/2 - 1\). So let's go back to that, actually. With our newfound wisdom, I obtain the following argument: suppose WLOG there are \((n - 2)^2/2\) \(NE\) directions in the central \((n-2) \times (n-2)\) square. Even with all the other \(2n - 3\) edge squares in the \(NE\) block, this doesn't make \(n^2/2\) - only gives \(n^2/2 - 1\) (which is possible for all the squares simultaneously as shown in the configuration), thus giving the final answer
\[\boxed{\frac{n^2}{2}+ 2n - 3}\] </p>
</div>

<h2>Idea</h2>
<p>Random stuff. I don't want to think about it. Don't focus too much on something you have zero control over - for example, the graph interpretation with chains going into cycles. </p>
<p><a href="../problem_tracker.html">Back to Problem List</a></p>
</body>
</html>
