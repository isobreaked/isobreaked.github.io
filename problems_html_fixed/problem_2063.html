<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Problem 2063</title>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="MathJax-4.0.0/tex-svg.js"></script>
<style>
body { font-family: Arial, sans-serif; margin: 40px; }
h1 { font-size: 1.6em; }
.difficulty { color: gray; font-size: 0.95em; margin-top: 6px; } .skib {  border-left: 4px solid #000; /* Bold left accent */   background-color: lavender; /* Very light gray */   padding: 1px 20px; /* less top/bottom padding, same left/right */   box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Soft depth */}
.skib {
  border-left: 4px solid #000; /* Bold left accent */
  /* we chillin */ /* Very light gray */
  padding: 1px 20px; /* less top/bottom padding, same left/right */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Soft depth */
}	
p { line-height: 1.45; }
ol, ul { margin-left: 1.2em; }
li { margin-bottom: 0.4em; }
</style>
</head>
<body>
<h1>Problem 2063 - 2024 Israel MO, P5 of 7, N</h1>
<h2 class='difficulty'>Difficulty: 7</h2>
<p>For positive integral \(k>1\), we let \(p(k)\) be its smallest prime divisor. Given an integer \(a_1>2\), we define an infinite sequence \(a_n\) by \(a_{n+1}=a_n^n-1\) for each \(n\geq 1\). For which values of \(a_1\) is the sequence \(p(a_n)\) bounded?</p>
<h2>Thinking</h2>
<div class=skib>
<p>Interesting - I wonder if we can force a sequence whose \(p(i)\) alternates between \(2\) and \(3\), or similar. For fun, let's just look at what happens when \(a_1 = 3\):
\[3 \to 2 \to 3 \to 26 \to 456975 \to \dots\]
Oh, we might have gotten exactly the alternating \(p(i)\) thing - At even \(i\), \(p(i) = 2\) and \(a_i \equiv 2 \pmod{3}\), and at odd \(i\), \(p(i) = 3\) since \(a_i = a_{i-1}^{i-1} - 1\), and \(2 \pmod{3}\) numbers to an even exponent give \(1 \pmod{3}\). Okay, so any \(a_i \equiv 3 \pmod{6}\) works. Wait, does any odd number just work? Because if the smallest prime divisor of \(a_1 = q \neq 2\), then \(p(a_{2k}) = 2\), and \(a_2 \equiv -1 \pmod{q}\) means that \(a_3 \equiv 0 \pmod{q}\), and we can generalize to \(p(a_{2k+1}) = p\), unless there is some prime smaller than \(q\) that comes into the picture. Suppose for the first time at \(a_{2i+1}\), we have \(r \mid a_{2i+1}\) for \(r < q\). This means \[a_{2i}^{2i} \equiv 1 \pmod{r}\]
Wait LOL we literally don't care if \(q\) gets replaced by something smaller like \(r\) - we don't want to show \(\{p(a_n)\}\) consists of only 2 elements, we just want to show that it's bounded, and if some \(a_{2i+1}\) becomes divisible by \(r\), everything going forward is divisible by \(r\) as well, and then \(r\) possibly gets replaced by something smaller or whatever. So all odd numbers work. </p>
<p>Probably we would like to show that even numbers do not work. Let's see what the sequence for \(a_1 =4\) looks like:
\[4 \to 3 \to 8 \to 511 \to 68184176640 \to \dots\]
Okay, so odd indices are even, so \(p(a_{2i+1}) = 2\). The prime factor is not conserved here like last time, because 
\[a_{2i} \equiv 0 \pmod{q}, \;\;\;\; a_{2i+1} = a_{2i}^{2i} - 1 \equiv -1 \pmod{q}, \;\;\;\; a_{2i+2} = a_{2i+1}^{2i+1} - 1 \equiv -2 \pmod{q}\]
Let's go down the contradiction route. Suppose there are \(k\) primes in \(\{p(a_n)\}\), we'll call them \(\{p_1, p_2, \dots, p_k\}\), and let the points where each of them are the smallest prime for the first time be \(\{a_{2i_1}, a_{2i_2}, \dots, a_{2i_k}\}\). We will construct an index \(r\) in the sequence such that none of these \(k\) primes divide \(a_r\). Okay, a bunch of stupidity later, I have obtained the solution - note that 
\[a_{2i+2} \equiv (a_{2i}^{2i} - 1)^{2i+1} - 1\]
If \(i = k(p-1)/2\), then this becomes:
\[a_{u(p-1) + 2} \equiv (a_{u(p - 1)}^{u(p-1)} - 1)^{u(p-1) + 1} - 1 \equiv -1 \;\; \text{or} \;\; -2 \pmod{p}\]
So we can just take
\[a_{u(p_1 - 1)(p_2 - 1) \dots (p_k - 1)  + 2} \equiv -1 \;\; \text{or} \;\; -2 \pmod{p_i} \;\; \forall i\]
and since \(p_i \neq 2\), we have our index such that no prime in the set divides it!
</p>
</div>
<h2>Idea</h2>
<p>Construction of a contradictory index via FLT+CRT is very common.</p>
<p><a href="../problem_tracker.html">Back to Problem List</a></p>
</body>
</html>
