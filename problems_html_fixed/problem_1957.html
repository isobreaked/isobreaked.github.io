<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Problem 1957</title>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="MathJax-4.0.0/tex-svg.js"></script>
<style>
body { font-family: Arial, sans-serif; margin: 40px; }
h1 { font-size: 1.6em; }
.difficulty { color: gray; font-size: 0.95em; margin-top: 6px; } .skib {  border-left: 4px solid #000; /* Bold left accent */   background-color: lavender; /* Very light gray */   padding: 1px 20px; /* less top/bottom padding, same left/right */   box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Soft depth */}
.skib {
  border-left: 4px solid #000; /* Bold left accent */
  /* we chillin */ /* Very light gray */
  padding: 1px 20px; /* less top/bottom padding, same left/right */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Soft depth */
}	
p { line-height: 1.45; }
ol, ul { margin-left: 1.2em; }
li { margin-bottom: 0.4em; }
</style>
</head>
<body>
<h1>Problem 1957 - 2023 IMOSL, N7, N</h1>
<h2 class='difficulty'>Difficulty: 7</h2>
<p>Let \(a,b,c,d\) be positive integers satisfying\[\frac{ab}{a+b}+\frac{cd}{c+d}=\frac{(a+b)(c+d)}{a+b+c+d}.\]Determine all possible values of \(a+b+c+d\).</p>
<h2>Thinking</h2>
<div class=skib>
<p>Okay, rearrange this as
\[(a + b + c + d)(abc + abd + acd + bcd) = (a + b)^2 (c + d)^2\]
Let \(a + b = u\), \(ab = u'\), \(c + d = v\), \(cd = v'\). 
\[(u + v)(u'v + uv') = u^2v^2\]
By Titu's lemma on the main expression, we have
\[\frac{(a + b)(c + d)}{a + b + c + d} = \frac{ab}{a+b}+\frac{cd}{c+d} \ge \frac{(\sqrt{ab} + \sqrt{cd})^2}{a + b + c + d}\]
\[(a + b)(c + d) \ge ab + cd + 2\sqrt{abcd}\]
\[uv \ge u' + v' + 2\sqrt{u'v'}\]</p>
<p>We'll bound more later, but since this is on the number theory shortlist, let's take a prime \(p \mid u\). Then \(p \mid u + v\) or \(p \mid u'v + uv'\). If \(p \mid u + v\), then \(p \mid v\), and if \(p \mid u'v + uv'\), then \(p \mid u'v\), which means \(p \mid v\) or \(p \mid u'\). If \(p \mid u'\), this means \(p \mid a\) and \(p \mid b\) since \(p \mid a + b = u\). This is messy. Instead let's take \(q \mid u + v\), which means \(q \mid u\) or \(q \mid v\). Thus \(q \mid u\) and \(q \mid v\) must both hold. 
\[u  + v = (p_1p_2\dots p_k) (p_1^{a_1 - 1} p_2^{a_2- 1} \dots p_k^{a_k - 1}), \;\;\;\; u = (p_1p_2\dots p_k)U, \;\;\;\; v =  (p_1p_2\dots p_k)V\]
For every prime \(q_i \neq p_l \in U\) and \(r_j \neq p_l \in V\) (\(U\) and \(V\) are disjoint apart from \(p_l\)), we know that \(q_i \mid a\), \(q_i \mid b\), \(r_j \mid c\), \(r_j \mid d\). The problem with taking \(\nu_q\) or anything is that <i>any</i> two \(\nu\) can be equal and just ruin the fun instantly.
\[(u + v)(u'v + uv') = u^2v^2\]
\[(p_1p_2\dots p_k) (p_1^{a_1 - 1} p_2^{a_2- 1} \dots p_k^{a_k - 1}) ((p_1p_2\dots p_k)Uv' + (p_1p_2\dots p_k)Vu')) = (p_1p_2\dots p_k)^2UV\]
\[(p_1^{a_1 - 1} p_2^{a_2- 1} \dots p_k^{a_k - 1}) (Uv' + Vu') = UV\]
</p>
<p>Annoying. Let's just use \(a\), \(b\), \(c\), \(d\) again:
\[(a + b + c + d)(abc + abd + acd + bcd) = (a + b)^2 (c + d)^2\]
Let's take \(a = b = c = d\), which works and tells us that \(a + b + c + d\) can be any multiple of \(4\). Bruh wait. I can write anything that is a multiple of \(p^2\) for some prime \(p\) like this (it's homogenous so we can multiply by \(k\) throughout):
\[(1 + (p-1) + (p-1) + (p-1)^2)((p-1)^2 + (p-1)^3 + (p-1)^3 + (p-1)^4) = p^2 (p^2 - p)^2\]
So anything non-squarefree works. But of course squarefree is not possible since we would have \(Uv' + Vu' = UV\), which is absurd.
</p>
</div>
<h2>Idea</h2>
<p>It's so free that it gaslights you into thinking only small things work - leading to trying to inequality bound. But keeping it simple would give us that any \(4k\) works, completely eliminating the bounding approach. Then a leap of faith with strong conviction that the answer is 'anything squarefree works' leads to the construction (alternatively just try something like \(9\)). </p>
<p><i>"AIME extraction on extremely free problem? Concrete freedom wins over PSC rigidity."</i></p>
<p><a href="../problem_tracker.html">Back to Problem List</a></p>
</body>
</html>
